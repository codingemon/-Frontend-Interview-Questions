# 클로저(Clouse)란?


함수와 함수가 선언된 어휘적 환경의 조합이다.
또한 **함수가 속한 [렉시컬스코프](#gear-렉시컬스코프)를 기억하여 함수가 렉시컬 스코프 밖에서 실행될 때도 그 스코프에 접근할 수 있게 하는 기능** 을 말한다.

```javascript
function outer() {
  var a = 2;
  function inner() {
    console.log(a);
  }
  return inner;
}
var func = outer();
func(); // 2
```

여기서 GC([GarbageCollector](#gear-GarbageCollector))가 `outer()`의 참조를 없앨 것 같지만 내부함수인 `inner()`가 해당 스코프의 변수인 a를 참조하고 있기 때문에 없애지 않는다.따라서 스코프 외부에서`inner()`가 실행되도 해당 스코프를 기억하기 때문에 2를 출력하게 된다. 즉, 여기서 클로저는 `inner()`가 되면 `func`에 담겨 밖에서도 실행되고 렉시컬 스코프를 기억한다.

<br>

> 위의 코드와 같은 방식으로 자바스크립트에 없는 캡슐화라는 개념을 구현할 수 있고 정보 은닉과 캡슐화가 가져다주는 이점들을 얻을 수 있다.

<br>

---

<br>

## :hammer_and_wrench: 용어 공부

### :gear: 렉시컬스코프

- 렉시컬 스코프는 함수를 어디서 호출하는지가 아니라 어디에 선언하였는지에 따라 결정된다.자바스크립트는 렉시컬스코프를 따르므로 함수를 선언한 시점에 상위 스코프가 결정된다.함수를 어디에서 호출하였는지는 스코프 결정에 아무런 의미를 주지 않는다.

### :gear: GarbageCollector

- 메모리에 할당된 값이 더는 필요하지 않는다고 판단될때 메모리를 해제시키는 과정을 가비지 컬렉션이라고 부르며 이 역할을 가비지 컬렉터가 맡고 있다.가비지 컬렉터가'필요없다'라고 판단하는 기준은 더 이상 '객체에 닿을 수 없을 때'를 말한다.닿는다는 roots(전역 변수)를 기준으로 참조, 또는 참조의 참조의... 참조가 되는 객체들이다.이 알고리즘을 mark and sweep이라고 부르는데 가비지 컬렉터는 'root에서 닿을 수 있는'개체들의 reachable을 ture로 표시하고, false인 객체들은 메모리에서 해제시킨다.

<br>
